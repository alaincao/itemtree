!function o(u,l,s){function a(t,e){if(!l[t]){if(!u[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=l[t]={exports:{}};u[t][0].call(i.exports,function(e){return a(u[t][1][e]||e)},i,i.exports,o,u,l,s)}return l[t].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){},{}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r={common:e("./src/Views/common"),itemttt:{list:e("./src/Views/ItemTTT/List"),add:e("./src/Views/ItemTTT/Add"),edit:e("./src/Views/ItemTTT/Edit")}};window.ttt=r},{"./src/Views/ItemTTT/Add":7,"./src/Views/ItemTTT/Edit":8,"./src/Views/ItemTTT/List":10,"./src/Views/common":11}],3:[function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var u=e("../Views/common"),i=function(i){function e(e,t){var n;null==t&&(t={name:""});var r=n=i.call(this,e,t)||this;return null!=r.price&&u.utils.ensureInteger({observable:r.price,canBeZero:!1,mustBePositive:!0}),n}return o(e,i),e.prototype.toDictObj=function(e){return i.prototype.toDictObj.call(this,e)},e}(e("../Utils/BaseAutoItem").BaseAutoItem);n.ItemKO=i},{"../Utils/BaseAutoItem":6,"../Views/common":11}],4:[function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Views/common");n.Languages=(r=i.utils.strEnum(["en","fr","nl"])).e,n.allLanguages=r.a},{"./Views/common":11}],5:[function(e,t,n){var i=this&&this.__awaiter||function(o,u,l,s){return new(l||(l=Promise))(function(e,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function r(e){try{i(s.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new l(function(e){e(t.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},o=this&&this.__generator||function(n,r){var i,o,u,e,l={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,o&&(u=2&t[0]?o.return:t[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,t[1])).done)return u;switch(o=0,u&&(t=[2&t[0],u.value]),t[0]){case 0:case 1:u=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(u=0<(u=l.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){l.label=t[1];break}if(6===t[0]&&l.label<u[1]){l.label=u[1],u=t;break}if(u&&l.label<u[2]){l.label=u[2],l.ops.push(t);break}u[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{i=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(n,"__esModule",{value:!0});var u=e("../Views/common");n.getUrlCode=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return u.utils.stringIsNullOrWhitespace(t)?[2,null]:[4,u.url.getRequest(u.routes.api.getUrlCode,{originalCode:t})];case 1:return[2,e.sent()]}})})},n.details=function(r){return i(this,void 0,void 0,function(){var t,n;return o(this,function(e){switch(e.label){case 0:return t=u.routes.api.itemDetails.replace(u.routes.itemCodeParameter,r),[4,u.url.postRequest(t,{})];case 1:return(n=e.sent()).item=n.result,delete n.result,[2,n]}})})},n.save=function(n){return i(this,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return[4,u.url.postRequest(u.routes.api.itemSave,n)];case 1:return(t=e.sent()).newCode=t.result,delete t.result,[2,t]}})})},n.delete_=function(n){return i(this,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return t=u.routes.api.itemDelete.replace(u.routes.itemCodeParameter,n),[4,u.url.postRequest(t,{})];case 1:return[2,e.sent()]}})})}},{"../Views/common":11}],6:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var u="ttt-name",r=function(){function e(e,t){this.fieldNames=[],this.knockoutify(e,t)}return e.prototype.toDictObj=function(r){var i=this;return null==r&&(r={}),$.each(this.fieldNames,function(e,t){var n=i[t];r[t]=n()}),r},e.prototype.fromDictObj=function(n){var r=this;$.each(this.fieldNames,function(e,t){(0,r[t])(n[t])})},e.prototype.knockoutify=function(e,r){var i=this,o=this;e.find("["+u+"]").each(function(e,t){var n=$(t).attr(u);o[n]=ko.observable(r[n]),i.fieldNames.push(n)})},e}();n.BaseAutoItem=r},{}],7:[function(e,t,i){var n=this&&this.__awaiter||function(o,u,l,s){return new(l||(l=Promise))(function(e,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function r(e){try{i(s.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new l(function(e){e(t.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},o=this&&this.__generator||function(n,r){var i,o,u,e,l={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,o&&(u=2&t[0]?o.return:t[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,t[1])).done)return u;switch(o=0,u&&(t=[2&t[0],u.value]),t[0]){case 0:case 1:u=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(u=0<(u=l.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){l.label=t[1];break}if(6===t[0]&&l.label<u[1]){l.label=u[1],u=t;break}if(u&&l.label<u[2]){l.label=u[2],l.ops.push(t);break}u[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{i=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(i,"__esModule",{value:!0});var u,l=e("../common"),r=e("../../DTOs/Item"),s=e("../../Services/ItemController");function a(){return n(this,void 0,void 0,function(){var t,n,r;return o(this,function(e){switch(e.label){case 0:return l.utils.log("add.save(): START"),t=i.item.toDictObj(),l.utils.log("add.save(): Launch save"),l.html.block(u),[4,s.save({item:t})];case 1:return n=e.sent(),l.html.unblock(u),n.success?(l.utils.log("add.save(): Redirect",{rc:n}),r=l.routes.itemTTT.itemEdit.replace(l.routes.itemCodeParameter,n.newCode),l.utils.log('add.save(): url="'+r+'"'),l.url.redirect(r),l.utils.log("add.save(): END"),[2]):(l.utils.error("add.save(): Error",{rc:n}),l.html.showMessage(n.errorMessage),[2])}})})}i.init=function(t){return n(this,void 0,void 0,function(){return o(this,function(e){return l.utils.log("add.init() START",{p:t}),u=t.$blockingDiv,l.utils.log("add.init(): Create KO item"),i.item=new r.ItemKO(t.$fieldsContainer),l.utils.log("add.init(): Apply KO item"),ko.applyBindings(i.item,t.$fieldsContainer[0]),l.utils.log("add.init(): Bind JQuery events"),t.$btnSave.click(a),l.utils.log("add.init() END"),[2]})})}},{"../../DTOs/Item":3,"../../Services/ItemController":5,"../common":11}],8:[function(e,t,i){var o=this&&this.__awaiter||function(o,u,l,s){return new(l||(l=Promise))(function(e,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function r(e){try{i(s.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new l(function(e){e(t.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},u=this&&this.__generator||function(n,r){var i,o,u,e,l={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,o&&(u=2&t[0]?o.return:t[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,t[1])).done)return u;switch(o=0,u&&(t=[2&t[0],u.value]),t[0]){case 0:case 1:u=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(u=0<(u=l.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){l.label=t[1];break}if(6===t[0]&&l.label<u[1]){l.label=u[1],u=t;break}if(u&&l.label<u[2]){l.label=u[2],l.ops.push(t);break}u[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{i=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(i,"__esModule",{value:!0});var l,s,a=e("../common"),n=e("../../DTOs/Item"),c=e("../../Services/ItemController"),r="Item saved successfully",f="An error occured while refresing the data: ";function d(){return o(this,void 0,void 0,function(){var t,n;return u(this,function(e){switch(e.label){case 0:return a.utils.log("edit.save(): START"),t=i.item.toDictObj(),a.utils.log("edit.save(): Launch save"),a.html.block(l),[4,c.save({originalCode:s,item:t})];case 1:return n=e.sent(),a.html.unblock(l),n.success?(a.utils.log("edit.save(): Refresh values",{rc:n}),[4,function(r){return o(this,void 0,void 0,function(){var t,n;return u(this,function(e){switch(e.label){case 0:return a.utils.log("edit.refresh(): START"),(t=null)==r?r=s:(s!=r&&(t=a.routes.itemTTT.itemEdit.replace(a.routes.itemCodeParameter,r)),s=r),a.utils.log("edit.refresh(): Launch request"),a.html.block(l),[4,c.details(r)];case 1:return n=e.sent(),a.html.unblock(l),n.success?(a.utils.log("edit.refresh(): Load from new item",{rc:n}),i.item.fromDictObj(n.item),null!=t&&(a.utils.log('edit.refresh(): Update URL to "'+t+'"'),a.url.pushHistory({pathname:t,newTitle:i.item.name()})),a.utils.log("edit.refresh(): END"),[2,!0]):(a.utils.error("edit.refresh(): Error",{rc:n}),a.html.showMessage(f+n.errorMessage),[2,!1])}})})}(n.newCode)]):(a.utils.error("edit.save(): Error",{rc:n}),a.html.showMessage(n.errorMessage),[2]);case 2:return e.sent()&&a.html.showMessage(r),a.utils.log("edit.save(): END"),[2]}})})}function h(){return o(this,void 0,void 0,function(){var t,n;return u(this,function(e){switch(e.label){case 0:return a.utils.log("edit.delete(): START"),a.utils.log("edit.delete(): Launch delete"),a.html.block(l),[4,c.delete_(s)];case 1:return t=e.sent(),a.html.unblock(l),t.success?(a.utils.log("edit.delete(): Redirect"),n=a.routes.itemTTT.itemsList.replace(a.routes.languageParameter,a.pageParameters.currentLanguage),a.utils.log("edit.delete()",{url:n}),a.url.redirect(n),a.utils.log("edit.delete(): END"),[2]):(a.utils.error("edit.delete(): Error",{rc:t}),a.html.showMessage(t.errorMessage),[2])}})})}i.init=function(t){return o(this,void 0,void 0,function(){return u(this,function(e){return a.utils.log("edit.init() START",{p:t}),l=t.$blockingDiv,a.utils.log("edit.init(): Create KO item"),i.item=new n.ItemKO(t.$fieldsContainer,t.model),s=i.item.code(),a.utils.log("edit.init(): Apply KO item"),ko.applyBindings(i.item,t.$fieldsContainer[0]),a.utils.log("edit.init(): Bind JQuery events"),t.$btnSave.click(d),t.$btnDelete.click(h),a.utils.log("edit.init() END"),[2]})})}},{"../../DTOs/Item":3,"../../Services/ItemController":5,"../common":11}],9:[function(e,t,n){var r=this&&this.__awaiter||function(o,u,l,s){return new(l||(l=Promise))(function(e,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function r(e){try{i(s.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new l(function(e){e(t.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},i=this&&this.__generator||function(n,r){var i,o,u,e,l={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,o&&(u=2&t[0]?o.return:t[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,t[1])).done)return u;switch(o=0,u&&(t=[2&t[0],u.value]),t[0]){case 0:case 1:u=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(u=0<(u=l.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){l.label=t[1];break}if(6===t[0]&&l.label<u[1]){l.label=u[1],u=t;break}if(u&&l.label<u[2]){l.label=u[2],l.ops.push(t);break}u[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{i=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(n,"__esModule",{value:!0});var o,u,l,s=e("../common");o=n.list||(n.list={}),u=s.utils.strEnum(["grid","list"]),o.ViewModes=u.e,o.allViewModes=u.a,l=s.utils.strEnum(["price","price_desc","name","name_desc"]),o.SortingFields=l.e,o.allSortingFields=l.a,o.getListContent=function(n){return r(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return t=s.routes.itemTTT.itemsList.replace(s.routes.languageParameter,s.pageParameters.currentLanguage),[4,s.url.getRequest(t,n)];case 1:return[2,e.sent()]}})})}},{"../common":11}],10:[function(e,t,n){var r=this&&this.__awaiter||function(o,u,l,s){return new(l||(l=Promise))(function(e,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function r(e){try{i(s.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new l(function(e){e(t.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},i=this&&this.__generator||function(n,r){var i,o,u,e,l={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,o&&(u=2&t[0]?o.return:t[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,t[1])).done)return u;switch(o=0,u&&(t=[2&t[0],u.value]),t[0]){case 0:case 1:u=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(u=0<(u=l.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){l.label=t[1];break}if(6===t[0]&&l.label<u[1]){l.label=u[1],u=t;break}if(u&&l.label<u[2]){l.label=u[2],l.ops.push(t);break}u[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{i=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(n,"__esModule",{value:!0});var o,u,l=e("../common"),s=e("./ItemTTTController");function a(n){return r(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:if(l.utils.log("list.refreshList() START",{p:n,currentSortingField:o}),n.noLayout=!0,null!=n.sortingField){if(n.sortingField==o)switch(o){case s.list.SortingFields.name:n.sortingField=s.list.SortingFields.name_desc;break;case s.list.SortingFields.price:n.sortingField=s.list.SortingFields.price_desc}o=n.sortingField}return[4,s.list.getListContent(n)];case 1:return t=e.sent(),u.html(t),l.utils.log("list.refresh() END",{currentSortingField:o}),[2]}})})}n.init=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){return l.utils.log("list.init() START"),o=t.sortingField,u=t.$divCarsList,t.$btnViewGrid.click(function(){a({viewMode:s.list.ViewModes.grid})}),t.$btnViewList.click(function(){a({viewMode:s.list.ViewModes.list})}),t.$btnSortName.click(function(){a({sortingField:s.list.SortingFields.name})}),t.$btnSortPrice.click(function(){a({sortingField:s.list.SortingFields.price})}),l.utils.log("list.init() END"),[2]})})}},{"../common":11,"./ItemTTTController":9}],11:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i,o,u=e("./common");n.debugMessages=!1,n.init=function(e){n.pageParameters=e.pageParameters,n.routes=n.pageParameters.routes,r.log("common.init()")},(i=r=n.utils||(n.utils={})).log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.pageParameters.isDebug&&console.log.apply(console,arguments)},i.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,arguments)},i.strEnum=function(e){return{e:e.reduce(function(e,t){return e[t]=t,e},Object.create(null)),a:e}},i.stringIsNullOrEmpty=function(e){return null==e||""==e},i.stringIsNullOrWhitespace=function(e){return null==e||""==e.trim()},i.htmlEncode=function(e){return Array.isArray(e)?$.map(e,function(e){return $(document.createElement("span")).text(e).html()}).join("<br/>"):$(document.createElement("span")).text(e).html()},i.arrayContains=function(e,t){return 0<=e.indexOf(t)},i.arrayRemoveItem=function(e,t){var n=e.indexOf(t);return!(n<0||(e.splice(n,1),0))},i.arraySum=function(e,t){var n=0;return e.forEach(function(e){n+=t(e)}),n},i.arrayMoveItem=function(e){var t=1;null!=e.direction&&(t="up"==e.direction?-t:t);var n=e.list.indexOf(e.item);if(n<0)throw{error:"Could not find item in list",item:e.item};var r=n+t;if(r<0?r=0:r>=e.list.length&&(r=e.list.length-1),n==r)return e.list;var i=e.list[n];return e.list[n]=e.list[r],e.list[r]=i,e.list},i.ensureInteger=function(n){null==n.canBeZero&&(n.canBeZero=!0),null==n.fallbackValue&&(n.canBeZero?n.fallbackValue=0:n.fallbackValue=1),n.observable.subscribe(function(e){var t=parseInt(e);isNaN(t)?t=n.fallbackValue:n.canBeZero||0!=e?n.mustBePositive&&e<0&&(t=n.fallbackValue):t=n.fallbackValue,e!==t&&n.observable(t)})},i.newGuid=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},i.sleep=function(t){return new Promise(function(e){return setTimeout(e,t)})},(o=n.html||(n.html={})).showMessage=function(e){var t=$("<div/>").text(e);$("body").append(t),t.dialog()},o.block=function(e){var t=1+(0|e.data("common_blockCounter"));return e.data("common_blockCounter",t),1==t&&e.block(),e},o.unblock=function(e){var t=(0|e.data("common_blockCounter"))-1;return e.data("common_blockCounter",t),t<0&&(u.utils.error("INTERNAL ERROR: Unblock count > block count:",t),t=0,e.data("common_blockCounter",0)),0==t&&e.unblock(),e},o.ensureVisible=function(e){var t=e.offset().top-(20+e.height());$("html, body").animate({scrollTop:t}),e.effect("highlight",{},2e3)},function(e){var n="onUrlChanged",r=$({}),t=!1;function i(e){var n=[];return $.each(e,function(e,t){e=encodeURIComponent(e),null==t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t||(t=JSON.stringify(t)),t=encodeURIComponent(t),n.push(e+"="+t)}),n.join("&")}function o(e){var t=e.pathname;if(null==t&&(t=window.location.pathname),null!=e.parameters){var n=i(e.parameters);0<n.length&&(t=t+"?"+n)}return t}e.redirect=function(e){window.location.href=e},e.parseParameters=function(e){if(null==e&&(e=window.location.search.substring(1)),0==e.length)return{};for(var t=e.split("&"),n={},r=0;r<t.length;++r){var i=t[r].split("="),o=decodeURIComponent(i[0]),u=decodeURIComponent(i[1]);try{u=JSON.parse(u)}catch(e){}n[o]=u}return n},e.stringifyParameters=i,e.onChanged=function(e){0==t&&($(window).bind("popstate",function(e){r.trigger(n)}),t=!0),r.bind(n,e)},e.createUrl=o,e.pushHistory=function(e){var t=o(e);window.history.pushState({},e.newTitle,t),r.trigger(n)},e.postRequest=function(e,t){var n=JSON.stringify(t);return new Promise(function(r,i){$.ajax({type:"POST",url:e,contentType:"application/json",data:n,dataType:"json",success:function(e,t,n){return r(e)},error:function(e,t,n){i(t)}})})},e.getRequest=function(e,t){if(null!=t){var n=i(t);e=e+"?"+n}return new Promise(function(r,i){$.ajax({type:"GET",url:e,contentType:"text/html",success:function(e,t,n){return r(e)},error:function(e,t,n){i(t)}})})},e.downloadFile=function(e){$(document.body).append($("<iframe/>").attr({src:e,style:"visibility:hidden;display:none"}))}}(n.url||(n.url={})),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("../Language"))},{"../Language":4,"./common":11}]},{},[1,2]);
//# sourceMappingURL=site.min.js.map
